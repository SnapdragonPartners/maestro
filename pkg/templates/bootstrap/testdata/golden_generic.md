# Bootstrap Project Setup for testproject

**Platform**: generic (generic)
**Container**: ubuntu:24.04
**Total Issues**: 0
**Priority**: ðŸŸ¡ **HIGH** - Infrastructure improvements needed

## Task Overview

This story addresses infrastructure issues discovered during project initialization. The following problems must be resolved before development can proceed effectively:
*No infrastructure issues detected. Proceeding with standard setup.*

## Acceptance Criteria

## Implementation Plan

### Phase 1: Critical Infrastructure (Priority 1)
*No critical infrastructure issues found.*

### Phase 2: Development Quality Setup
**Linting Configuration**: Set up linting for code quality
- Configure platform-appropriate linting tools
- Integrate linting into `make lint` target
- Ensure linting passes before proceeding

**Pre-commit Hooks**: Enforce quality gates automatically
- Create `.git/hooks/pre-commit` requiring build, test, and lint success
- Make hook executable: `chmod +x .git/hooks/pre-commit`
- Test hook blocks commits on failure

### Phase 3: High Priority Infrastructure Fixes (Priority 2+)
*No high priority fixes required.*

### Phase 4: Validation
1. Run full verification suite: `maestro init --verify`
2. Test complete development workflow:
   - `make build` - should compile successfully
   - `make test` - should run tests
   - `make lint` - should pass linting
   - `make run` - should start application
3. Verify container security constraints
4. Test git operations (clone, worktree, PR creation)

## Technical Notes

### Platform: generic
- **Package Manager**: make
- **Container Image**: ubuntu:24.04

### Makefile Targets
The following targets should be configured in your Makefile:

```makefile
.PHONY: build test lint run clean

build:
	echo 'Build target - configure for your platform'

test:
	echo 'Test target - configure for your platform'

lint:
	echo 'Lint target - configure for your platform'

run:
	echo 'Run target - configure for your platform'

clean:
	echo 'Clean target - configure for your platform'
```

### Container Configuration
- **Network Access**: Disabled (`--network=none`)
- **User**: Non-root (`--user=1000:1000`)
- **Filesystem**: Read-only with writable `/tmp`

### External Services (Databases, Caches, etc.)
If your application requires external services like PostgreSQL, Redis, or other infrastructure:
- **Use Docker Compose**: Define services in `.maestro/compose.yml`
- **Call `compose_up`**: This creates a local Docker network connecting your services to the coder container
- **Network constraint bypass**: Compose networking is separate from `--network=none` - containers on the compose network CAN communicate with each other
- **Do NOT downgrade technology choices**: If the spec says PostgreSQL, use PostgreSQL via compose - don't substitute SQLite

### Required Tools in Container
The container must include these tools for Maestro operations:
- **git** - Version control operations (clone, commit, push, rebase)
- **make** - Build system execution (required for `make build`, `make test`, `make lint`)
- **curl** - Network operations and health checks (optional but recommended)

Install in Dockerfile:
```dockerfile
# Alpine-based images
RUN apk add --no-cache git make curl

# Debian/Ubuntu-based images
RUN apt-get update && apt-get install -y git make curl && rm -rf /var/lib/apt/lists/*
```

**Note**: GitHub CLI (`gh`) is NOT required in the container. All PR creation, merge operations, and GitHub API access run on the host orchestrator, not inside containers.

### File System Constraints
- **Large File Limit**: 100MB (GitHub push limit)
- **Warning Threshold**: 50MB (recommend Git LFS)
- **Git LFS**: Not currently needed

## Success Criteria

- [ ] All acceptance criteria completed
- [ ] Full verification suite passes
- [ ] Container security constraints validated
- [ ] Build/test/lint pipeline functional
- [ ] Git operations working
- [ ] No files exceed size limits

Upon completion, the bootstrap detector will automatically recognize the completed work on the next run and allow normal development workflow to proceed.

---

*Generated by Maestro Bootstrap System*
